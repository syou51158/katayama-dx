# 片山建設工業 DXシステム セットアップ手順

## Supabaseセットアップ完了後の手順

### 必要な情報

Supabaseのセットアップが完了したら、以下の情報が必要です：

1. **Supabase URL** - Supabaseプロジェクトのホスト名
2. **Supabase Anon Key** - 匿名認証用の公開APIキー

### 環境変数の設定

1. プロジェクトルートにある `.env.local` ファイルを開きます
2. 以下の変数を設定します：

```
VITE_SUPABASE_URL=あなたのSupabase URLをここに入力してください
VITE_SUPABASE_ANON_KEY=あなたのSupabase Anon Keyをここに入力してください
```

### データベーススキーマの適用

Supabaseプロジェクトにデータベーススキーマを適用するには：

1. Supabaseダッシュボードの「SQL Editor」を開きます
2. `supabase/migrations/20240101000000_initial_schema.sql` ファイルの内容をコピーします
3. SQLエディタに貼り付けて実行します

### アプリケーションの起動

環境変数を設定した後、以下のコマンドでアプリケーションを起動します：

```bash
npm run dev
```

### 接続確認

アプリケーションが起動したら、ブラウザで表示される「Supabase接続テスト」セクションで接続状態を確認できます。

- 緑色のメッセージが表示されれば接続成功です
- エラーが表示される場合は、環境変数の設定を確認してください

## 次のステップ

1. ユーザー認証の実装
2. 勤怠管理機能の開発
3. 営業日報SFA機能の開発

## プロジェクト構成

- `src/lib/supabase.ts` - Supabaseクライアント設定
- `src/types/supabase.ts` - データベーステーブルの型定義
- `supabase/migrations/` - データベーススキーマ定義

## トラブルシューティング

- 接続エラーが発生する場合は、環境変数が正しく設定されているか確認してください
- Supabaseプロジェクトの設定で、適切なセキュリティルールが設定されているか確認してください
- RLS（Row Level Security）ポリシーが正しく設定されているか確認してください